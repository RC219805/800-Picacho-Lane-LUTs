--- .github/workflows/build.yml
+++ .github/workflows/build.yml
@@ -144,8 +144,13 @@
         run: |
           set -o pipefail
           pytest -v --cov=. --cov-report=xml --cov-report=term-missing 2>&1 | tee pytest.log
-          test ${PIPESTATUS[0]} -eq 0
-
+          rc=${PIPESTATUS[0]}
+          if [ ! -f coverage.xml ]; then
+            echo \"coverage.xml missing (pytest rc=$rc)\"
+            ls -la
+            if [ \"$rc\" -eq 0 ]; then exit 1; fi
+          fi
+          exit \"$rc\"
       - name: Upload pytest log
         if: always()
         uses: actions/upload-artifact@v4
@@ -168,6 +173,7 @@
         if: |
           always() &&
           (github.event_name != 'pull_request' || github.event.pull_request.head.repo.full_name == github.repository)
+          hashFiles('coverage.xml') != ''
         uses: codecov/codecov-action@v5
         with:
           use_oidc: true
@@ -273,4 +279,4 @@
           exit 1
       - name: All good
         if: ${{ needs.build.result == 'success' && needs.generate-manifest.result == 'success' }}
-        run: echo "✅ All checks passed successfully!"
+        run: echo "✅ All checks passed successfully!"--- .github/workflows/static-analysis-2.yml
+++ .github/workflows/static-analysis-2.yml
@@ -160,8 +160,13 @@
         run: |
           set -o pipefail
           pytest -v --cov=. --cov-report=xml --cov-report=term-missing 2>&1 | tee pytest.log
-          test ${PIPESTATUS[0]} -eq 0
-
+          rc=${PIPESTATUS[0]}
+          if [ ! -f coverage.xml ]; then
+            echo \"coverage.xml missing (pytest rc=$rc)\"
+            ls -la
+            if [ \"$rc\" -eq 0 ]; then exit 1; fi
+          fi
+          exit \"$rc\"
       - name: Upload pytest log
         if: always()
         uses: actions/upload-artifact@v4
@@ -182,11 +187,11 @@
 
       # Upload coverage once (3.12)
       - name: Upload Coverage to Codecov (OIDC)
-        if: always() && matrix.python-version == '3.12'
+        if: always() && matrix.python-version == '3.12' && hashFiles('coverage.xml') != ''
         uses: codecov/codecov-action@v5
         with:
           use_oidc: true
           files: ./coverage.xml
           flags: unittests
           name: codecov-umbrella
-          fail_ci_if_error: false
+          fail_ci_if_error: false